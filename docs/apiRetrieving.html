<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Retrieving cases and tasks · Cafienne Reference Guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Cases"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Retrieving cases and tasks · Cafienne Reference Guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://cafienne.github.io/index.html"/><meta property="og:description" content="## Cases"/><meta property="og:image" content="https://cafienne.github.io/favicon-32x32.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://cafienne.github.io/favicon-32x32.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon-32x32.png" alt="Cafienne Reference Guide"/><h2 class="headerTitleWithLogo">Cafienne Reference Guide</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/HowToUseThisGuide.html" target="_self">General</a></li><li class="siteNavGroupActive"><a href="/docs/CafienneDemo.html" target="_self">Cafienne Demo</a></li><li class="siteNavGroupActive"><a href="/docs/modelCases.html" target="_self">Cafienne Modeller</a></li><li class="siteNavGroupActive"><a href="/docs/cafienneEngine.html" target="_self">Case engine</a></li><li class="siteNavGroupActive"><a href="/docs/apiAuthentication.html" target="_self">Cafienne API</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Cafienne API</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">General</h3><ul><li class="navListItem"><a class="navItem" href="/docs/HowToUseThisGuide.html">How to use this Guide</a></li><li class="navListItem"><a class="navItem" href="/docs/ShortIntroduction.html">A short introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/WhatGoesWithCafienne.html">What goes with Cafienne</a></li><li class="navListItem"><a class="navItem" href="/docs/gettingStarted.html">Getting started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne Demo</h3><ul><li class="navListItem"><a class="navItem" href="/docs/CafienneDemo.html">Introducing Cafienne Demo</a></li><li class="navListItem"><a class="navItem" href="/docs/CafienneUI.html">Cafienne UI</a></li><li class="navListItem"><a class="navItem" href="/docs/cafienneUIHTM.html">How to use task UI rendering</a></li><li class="navListItem"><a class="navItem" href="/docs/TwoApps.html">Two business applications</a></li><li class="navListItem"><a class="navItem" href="/docs/ObtainingCafDemo.html">Obtaining Cafienne Demo</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne Modeller</h3><ul><li class="navListItem"><a class="navItem" href="/docs/modelCases.html">Modelling Cases</a></li><li class="navListItem"><a class="navItem" href="/docs/modelPlanItems.html">Modelling other Plan Items</a></li><li class="navListItem"><a class="navItem" href="/docs/modelCaseFile.html">Modelling the Case File</a></li><li class="navListItem"><a class="navItem" href="/docs/modelCaseRoles.html">Modelling the Case Roles</a></li><li class="navListItem"><a class="navItem" href="/docs/modelOther.html">Other things to model</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Case engine</h3><ul><li class="navListItem"><a class="navItem" href="/docs/cafienneEngine.html">The Cafienne engine</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne API</h3><ul><li class="navListItem"><a class="navItem" href="/docs/apiAuthentication.html">Introducing the API</a></li><li class="navListItem"><a class="navItem" href="/docs/apiStartCase.html">Start a Case</a></li><li class="navListItem"><a class="navItem" href="/docs/apiUsers.html">Users, roles and case team</a></li><li class="navListItem"><a class="navItem" href="/docs/apiExecutingCase.html">Executing the case</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/apiRetrieving.html">Retrieving cases and tasks</a></li><li class="navListItem"><a class="navItem" href="/docs/apiCaseFile.html">Casefile requests</a></li><li class="navListItem"><a class="navItem" href="/docs/apiMethods.html">All API-methods</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Retrieving cases and tasks</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="cases"></a><a href="#cases" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cases</h2>
<p>For retrieving a list of cases you should call the method get/cases. Because X-AUTH_CAFIENNE is included in the request, get/cases will respond with all cases for which you are assigned as a user, you are part of the case team, or in which you fulfill a role for cases where no case team is set. Your “overall” roles are set to your user account to Cafienne. This request will respond using the JSON-structure:</p>
<pre><code class="hljs css languages- ssh">{
 <span class="hljs-string">"casefile"</span>: <span class="hljs-string">""</span>,     --a reference <span class="hljs-keyword">to</span> the whole file (case file, case plan, roles)
 <span class="hljs-string">"attachment_casefile"</span>: {<span class="hljs-built_in">..</span>.}, --a reference <span class="hljs-keyword">to</span> the casefile with casefileitems
 <span class="hljs-string">"lastModifiedBy"</span>: <span class="hljs-string">""</span>,  --the<span class="hljs-built_in"> user </span>that performed the most recent task execution
 <span class="hljs-string">"planitems"</span>: [ ],   --all the actual planned items <span class="hljs-keyword">in</span> the case
 <span class="hljs-string">"definition"</span>: <span class="hljs-string">""</span>,   --the name of te case definition <span class="hljs-keyword">in</span> the case model
 <span class="hljs-string">"rootCaseId"</span>:<span class="hljs-string">""</span>,    --the caseinstanceId, <span class="hljs-keyword">in</span> case of nesting the moste elderly parent
 <span class="hljs-string">"team"</span>: [ ],        --the case team that is <span class="hljs-builtin-name">set</span> <span class="hljs-keyword">for</span> executing the case
 <span class="hljs-string">"id"</span>: <span class="hljs-string">""</span>,           --the caseinstanceId that identifies the case<span class="hljs-built_in"> instance
</span> <span class="hljs-string">"lastModified"</span>: <span class="hljs-string">""</span>, --
 <span class="hljs-string">"parentCaseId"</span>: <span class="hljs-string">""</span>  --the parent ID <span class="hljs-keyword">if</span> there are more than two hierarchical levels
}
</code></pre>
<p>You can use this call to fill a UI-widget for “my Cases”. Note that for a user there is no meaningfull information to identify a case instance other than its definition. If needed you can extract other meaningful information from attachment_casefile, or otherwise retrieve this from the case file...</p>
<p>You can restrict the retrieved cases using their State and their Definition. Note that you can query the response on CurrentState of the Case on plan items that have the type “CasePlan” which caseInstanceID matches the rootCaseId.</p>
<h2><a class="anchor" aria-hidden="true" id="a-case-instance"></a><a href="#a-case-instance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A case instance</h2>
<p>You can Retrieve information on a Case Instance by calling on <code>get/cases/{caseinstanceID}</code>. This will respond with JSON structure:</p>
<pre><code class="hljs css languages- ssh">{
 <span class="hljs-string">"rootCaseID"</span>: <span class="hljs-string">""</span>,      --the caseInstanceID <span class="hljs-keyword">or</span> <span class="hljs-keyword">when</span> nested the parent <span class="hljs-type">CIid</span>
 <span class="hljs-string">"team"</span>:[{}],           --the users <span class="hljs-keyword">and</span> roles <span class="hljs-keyword">in</span> the rootCase
 <span class="hljs-string">"attachment_casefile"</span>: <span class="hljs-meta">{...}</span>, --a reference to the casefile <span class="hljs-keyword">with</span> casefileitems
 <span class="hljs-string">"file"</span>: <span class="hljs-meta">{..}</span>           --the <span class="hljs-keyword">case</span> file items <span class="hljs-keyword">and</span> values <span class="hljs-keyword">of</span> their properties
 {
  <span class="hljs-string">"isRequired"</span>: ...,    --value <span class="hljs-keyword">as</span> designed <span class="hljs-keyword">in</span> model
  <span class="hljs-string">"isRepeating"</span>: ...,   --value <span class="hljs-keyword">as</span> designed <span class="hljs-keyword">in</span> model
  <span class="hljs-string">"caseInstanceId"</span>: <span class="hljs-string">""</span>, --the identification <span class="hljs-keyword">of</span> a <span class="hljs-keyword">case</span> the task <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span>
  <span class="hljs-string">"name"</span>: <span class="hljs-string">""</span>,           --the name <span class="hljs-keyword">of</span> task <span class="hljs-keyword">in</span> model
  <span class="hljs-string">"id"</span>: <span class="hljs-string">""</span>,             --the identification <span class="hljs-keyword">of</span> the task
  <span class="hljs-string">"lastModified"</span>: <span class="hljs-string">""</span>,   --the timestamp <span class="hljs-keyword">of</span> latest life cylcle transition 
  <span class="hljs-string">"currentState"</span>: <span class="hljs-string">""</span>,   --the state the latest transition resulted <span class="hljs-keyword">in</span>
  <span class="hljs-string">"type"</span>: <span class="hljs-string">""</span>,           --the <span class="hljs-keyword">type</span> op the taks, eg human task
  <span class="hljs-string">"user"</span>: <span class="hljs-string">""</span>,           --the user that fulfills the designed role, <span class="hljs-keyword">or</span> <span class="hljs-keyword">is</span> assignee 
  <span class="hljs-string">"historyState"</span>: <span class="hljs-string">""</span>,   --the state the latest transition started <span class="hljs-keyword">with</span>
  <span class="hljs-string">"transition"</span>: <span class="hljs-string">""</span>,     --the transition that took place
  <span class="hljs-string">"stageId"</span>: <span class="hljs-string">""</span>         --the identification <span class="hljs-keyword">of</span> the stage the task <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span> 
 }
}
</code></pre>
<p>Basically, this is the same structure as the structure in the response of get/cases. Added to it is file. This lists all Case File Items and their properties.</p>
<h2><a class="anchor" aria-hidden="true" id="tasks"></a><a href="#tasks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tasks</h2>
<p>You can use <code>get/tasks</code> or to retrieve a list of tasks. You can restrict the response to a case instance, the case definiton, the assignee, the workflow state of the task, it life cycle state or the owner (but that should be the assignee if the task is assigned). The method responds with the following JSON structure:</p>
<pre><code class="hljs css languages- ssh">{
 <span class="hljs-attr">"planState"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"owner"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"role"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"attachment_taskinputdata"</span>: { },
 <span class="hljs-attr">"dueDate"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"attachment_taskoutputdata"</span>: { },
 <span class="hljs-attr">"caseInstanceId"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"taskInput"</span>: { },
 <span class="hljs-attr">"parentCaseInstanceId"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"taskOutput"</span>: {},
 <span class="hljs-attr">"createdOn"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"caseDefinition"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"rawOutput"</span>: {},
 <span class="hljs-attr">"taskState"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"createdBy"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"modifiedBy"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"rootCaseInstanceId"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"taskName"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"id"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"assignee"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"lastModified"</span>: <span class="hljs-string">""</span>
 }
</code></pre>
<p>If you create a list of “myTasks” that gives a business user an overview of tasks he or she can claim or is assigned to, note that you can us the taskInput to give meaningful information on the specific task.</p>
<h2><a class="anchor" aria-hidden="true" id="a-task-instance"></a><a href="#a-task-instance" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A task instance</h2>
<p>You can retrieve information on a task instance using <code>get/tasks/{taskID}</code>. This will give you additional information on the Assignee, and the mapping of CaseFileItems to input and output parameters. The information on the Assignee helps you controlling the workflow of planned tasks.</p>
<p>Whenever a PlanItem is planned, Cafienne keeps track of the values added to the CaseFileItem that are input parameters of that PlanItem. Even so, Cafienne keeps the data that are in the output parameters. You can use the information on CaseFileItems and their property for building a UI that help the assignee to execute the task. Also, this information can be used in keeping track of the way the data in your business application are used, for instance in case an audit is being performed.</p>
<p><code>get/tasks/{taskID}</code> will respond the following JSON structure:</p>
<pre><code class="hljs css languages- ssh">{
 <span class="hljs-string">"id"</span>: <span class="hljs-string">""</span>,            --identifies the task
 <span class="hljs-string">"taskName"</span>: <span class="hljs-string">""</span>,      --the name given to the task <span class="hljs-keyword">in</span> the <span class="hljs-keyword">case</span> model
 <span class="hljs-string">"taskState"</span>: <span class="hljs-string">""</span>,     --the life cycle state
 <span class="hljs-string">"role"</span>: <span class="hljs-string">""</span>,          --the role that performs the task
 <span class="hljs-string">"assignee"</span>: <span class="hljs-string">""</span>,      --the user that has claimed the task <span class="hljs-keyword">or</span> <span class="hljs-keyword">is</span> assigned to it
 <span class="hljs-string">"createdBy"</span>: <span class="hljs-string">""</span>,     --the user that created (life cycle action) the task
 <span class="hljs-string">"createdOn"</span>: <span class="hljs-string">""</span>,     --timestamp <span class="hljs-keyword">of</span> creation
 <span class="hljs-string">"modifiedBy"</span>: <span class="hljs-string">""</span>,    --the user that last performed a life cycle action
 <span class="hljs-string">"lastModified"</span>: <span class="hljs-string">""</span>,  --timestamp <span class="hljs-keyword">of</span> last life cycle action 
 <span class="hljs-string">"taskInput"</span>: <span class="hljs-meta">{...}</span>,  --the input <span class="hljs-type">CFI</span> <span class="hljs-keyword">and</span> the value <span class="hljs-keyword">in</span> its properties
 <span class="hljs-string">"taskOutput"</span>: <span class="hljs-meta">{...}</span>, --the output <span class="hljs-type">CFI</span> <span class="hljs-keyword">and</span> the value <span class="hljs-keyword">in</span> its properties
 <span class="hljs-string">"attachment_taskinputdata"</span>: <span class="hljs-meta">{...}</span>,  --a reference to input <span class="hljs-type">CFI</span> stored <span class="hljs-keyword">in</span> <span class="hljs-type">ES</span>
 <span class="hljs-string">"attachment_taskoutputdata"</span>: <span class="hljs-meta">{...}</span>, --a reference to output <span class="hljs-type">CFI</span> stored <span class="hljs-keyword">in</span> <span class="hljs-type">ES</span>

 <span class="hljs-string">"caseInstanceId"</span>: <span class="hljs-string">""</span>,         --the <span class="hljs-keyword">case</span> <span class="hljs-keyword">or</span> subcase the task <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span>
 <span class="hljs-string">"rootCaseInstanceId"</span>: <span class="hljs-string">""</span>,     --caseInstanceID <span class="hljs-keyword">when</span> no nesting <span class="hljs-keyword">of</span> cases exists             
 <span class="hljs-string">"parentCaseInstanceId"</span>: null, --<span class="hljs-keyword">not</span> the root
 <span class="hljs-string">"caseDefinition"</span>: <span class="hljs-string">""</span>,         --the name <span class="hljs-keyword">in</span> the model <span class="hljs-keyword">of</span> the <span class="hljs-keyword">case</span> instance
 <span class="hljs-string">"planState"</span>: <span class="hljs-string">""</span>,              --the life cycle state <span class="hljs-keyword">of</span> the root

 <span class="hljs-string">"taskinputdata"</span>: <span class="hljs-string">""</span>,  --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"taskoutputdata"</span>: <span class="hljs-string">""</span>, --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"mappedInput"</span>: <span class="hljs-meta">{...}</span>, --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"rawOutput"</span>: <span class="hljs-meta">{...}</span>,   --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"taskModel"</span>: <span class="hljs-meta">{...}</span>,   --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"owner"</span>: <span class="hljs-string">""</span>           --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
 <span class="hljs-string">"dueDate"</span>: <span class="hljs-string">""</span>,        --used <span class="hljs-keyword">in</span> <span class="hljs-type">CafienneUI</span>
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/apiExecutingCase.html">← Executing the case</a><a class="docs-next button" href="/docs/apiCaseFile.html">CaseFile requests →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#cases">Cases</a></li><li><a href="#a-case-instance">A case instance</a></li><li><a href="#tasks">Tasks</a></li><li><a href="#a-task-instance">A task instance</a></li></ul></nav></div></div></body></html>
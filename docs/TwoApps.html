<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Two business applications · Cafienne Reference Guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## HelloWorld"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Two business applications · Cafienne Reference Guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://cafienne.github.io/index.html"/><meta property="og:description" content="## HelloWorld"/><meta property="og:image" content="https://cafienne.github.io/favicon-32x32.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://cafienne.github.io/favicon-32x32.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/favicon-32x32.png" alt="Cafienne Reference Guide"/><h2 class="headerTitleWithLogo">Cafienne Reference Guide</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/HowToUseThisGuide.html" target="_self">General</a></li><li class="siteNavGroupActive"><a href="/docs/CafienneDemo.html" target="_self">Cafienne Demo</a></li><li class="siteNavGroupActive"><a href="/docs/modelCases.html" target="_self">Cafienne Modeller</a></li><li class="siteNavGroupActive"><a href="/docs/cafienneEngine.html" target="_self">Case engine</a></li><li class="siteNavGroupActive"><a href="/docs/apiAuthentication.html" target="_self">Cafienne API</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Cafienne Demo</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">General</h3><ul><li class="navListItem"><a class="navItem" href="/docs/HowToUseThisGuide.html">How to use this Guide</a></li><li class="navListItem"><a class="navItem" href="/docs/ShortIntroduction.html">A short introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/WhatGoesWithCafienne.html">What goes with Cafienne</a></li><li class="navListItem"><a class="navItem" href="/docs/gettingStarted.html">Getting started</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne Demo</h3><ul><li class="navListItem"><a class="navItem" href="/docs/CafienneDemo.html">Introducing Cafienne Demo</a></li><li class="navListItem"><a class="navItem" href="/docs/CafienneUI.html">Cafienne UI</a></li><li class="navListItem"><a class="navItem" href="/docs/cafienneUIHTM.html">How to use task UI rendering</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/TwoApps.html">Two business applications</a></li><li class="navListItem"><a class="navItem" href="/docs/ObtainingCafDemo.html">Obtaining Cafienne Demo</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne Modeller</h3><ul><li class="navListItem"><a class="navItem" href="/docs/modelCases.html">Modelling Cases</a></li><li class="navListItem"><a class="navItem" href="/docs/modelPlanItems.html">Modelling other Plan Items</a></li><li class="navListItem"><a class="navItem" href="/docs/modelCaseFile.html">Modelling the Case File</a></li><li class="navListItem"><a class="navItem" href="/docs/modelCaseRoles.html">Modelling the Case Roles</a></li><li class="navListItem"><a class="navItem" href="/docs/modelOther.html">Other things to model</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Case engine</h3><ul><li class="navListItem"><a class="navItem" href="/docs/cafienneEngine.html">The Cafienne engine</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Cafienne API</h3><ul><li class="navListItem"><a class="navItem" href="/docs/apiAuthentication.html">Introducing the API</a></li><li class="navListItem"><a class="navItem" href="/docs/apiStartCase.html">Start a Case</a></li><li class="navListItem"><a class="navItem" href="/docs/apiUsers.html">Users, roles and case team</a></li><li class="navListItem"><a class="navItem" href="/docs/apiExecutingCase.html">Executing the case</a></li><li class="navListItem"><a class="navItem" href="/docs/apiRetrieving.html">Retrieving cases and tasks</a></li><li class="navListItem"><a class="navItem" href="/docs/apiCaseFile.html">Casefile requests</a></li><li class="navListItem"><a class="navItem" href="/docs/apiMethods.html">All API-methods</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Two business applications</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="helloworld"></a><a href="#helloworld" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>HelloWorld</h2>
<p>The first business application is called Hello World. A business user can sent a greeting to another business user using the following user interface that is based on the JSON shown in <a href="/docs/CafienneUI.html">Cafienne UI</a>.</p>
<p><img src="/docs/assets/startUIhelloWorld.png" alt="Image"></p>
<p>In the UI above some user that is known as The administrator sends Lana the greeting “goedemorgen”. Lana can read this message once she has logged in into Cafienne UI. There she will see a Task “Receive Greeting and respond” assigned to her. She can now respond to The administrator. The administrator will receive the response and after that he or she can complete the case. The myCases UI will show the following:</p>
<p><img src="/docs/assets/helloWorldCompleted.png" alt="Image"></p>
<p>You can try it yourself once you obtained Cafienne-demo. Note that in Cafienne-demo there are four predefined user next to the administrator that you can use in this demo: Lana, Gerald, Hank and Suzy.</p>
<h2><a class="anchor" aria-hidden="true" id="travel-request"></a><a href="#travel-request" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Travel Request</h2>
<p>Travel Request has a more elaborated case model. It supports a common procedure in many organizations: business travel. One of the team members needs to organize a trip to visit a client. They would have to fill in a form, email it to their supervisor, and get the approved form back from the supervisor. After the trip, they would need to fill in another form detailing travel expenses, submit this form for approval, and finally submit their approved expenses to accounting for reimbursement. This example relies heavily on the requester to manage the entire process by keeping track of where they are in the process and moving it along manually.</p>
<blockquote>
<p>Note however, travel request is not so much a case and more like a business process. So, you can use Cafienne to build business processes too.</p>
</blockquote>
<p>Using Cafienne, you can break down this request into smaller processes: Requesting Travel, Approving Travel, and Submitting the Expenses, as shown in the model below.</p>
<p><img src="/docs/assets/modelTravel.png" alt="Image"></p>
<p>We can make sure there are no more incomplete request forms by requiring specific information before it ever is submitted. We can define an approver role so that once the travel request is created, the appropriate supervisor is notified of the request. After approval, the process automatically moves onto the final step and lets the requestor know their request is approved. It assigns them a new task to submit their travel expenses after the trip.</p>
<p>The order of these tasks is important, and Cafienne manages the entire process. It delegates tasks to the correct team members since these roles can be clearly defined when designing the model. This removes the burden from the requester of figuring out who they should send a request to, remembering where they are in the process, and prevents them from sending it to the wrong team member.</p>
<blockquote>
<p>You can try it yourself once you obtained Cafienne-demo.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="explaining-the-flow-of-the-business-apps"></a><a href="#explaining-the-flow-of-the-business-apps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Explaining the flow of the business apps</h2>
<h3><a class="anchor" aria-hidden="true" id="log-in"></a><a href="#log-in" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Log in</h3>
<p>So assume Hank want to sent a message to Lana. For that he can use the HelloWorld CasePlan in CafienneDemo. First of all, Hank needs to log in by using <strong>post/identity/login</strong>. There he needs to enter his credentials <strong>{ &quot;username&quot;: &quot;hank&quot;, &quot;password&quot;: &quot;hank&quot; }</strong>. Hank should then have a response including a token. Because any other API-call needs that token in its header: X-AUTH-CAFIENNE. NOTE that this token can be found in the browser inspector but it should really be in the response.</p>
<h3><a class="anchor" aria-hidden="true" id="start-a-case"></a><a href="#start-a-case" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start a case</h3>
<p>Using post/cases Hank can start the Case. He authenticates him self using the X-AUTH-CAFIENNE and fills in the the body should like:</p>
<pre><code class="hljs css languages- sh">{  
  <span class="hljs-string">"definition"</span>:<span class="hljs-string">"HelloWorld.xml"</span>,
  <span class="hljs-string">"name"</span>:<span class="hljs-string">"HelloWorld"</span>,
  <span class="hljs-string">"inputs"</span>: {
    <span class="hljs-string">"Greeting"</span>: {
      <span class="hljs-string">"Message"</span>:<span class="hljs-string">"Hi"</span>,
      <span class="hljs-string">"To"</span>:<span class="hljs-string">"lana"</span>,       
      <span class="hljs-string">"From"</span>:<span class="hljs-string">"hank"</span>       
      }    
   }
}
</code></pre>
<p><code>post/cases</code> will respond with a message including the caseInstanceID and the name of the case:</p>
<pre><code class="hljs css languages- sh">{  
  <span class="hljs-string">"caseInstanceId"</span>: <span class="hljs-string">"2fdfba88_3331_4fe0_a3cf_83e4f6cc5b55"</span>,
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"HelloWorld"</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="mycases"></a><a href="#mycases" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>MyCases</h3>
<p>Hank can now see his Cases by calling on the method get/cases. He can also look at the case he just started calling get/cases/{caseInstanceID} using the parameters caseInstanceID and X-AUTH-CAFIENNE. Following is an excerpt of the response of the latter:</p>
<pre><code class="hljs css languages- sh">{
  <span class="hljs-string">"casefile"</span>: <span class="hljs-string">".."</span>,
  <span class="hljs-string">"lastModifiedBy"</span>: <span class="hljs-string">"hank"</span>,
  <span class="hljs-string">"definition"</span>: <span class="hljs-string">"HelloWorld"</span>,
  <span class="hljs-string">"planitems"</span>: [ 
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"HelloWorld"</span>,
      <span class="hljs-string">"currentState"</span>: <span class="hljs-string">"Active"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"CasePlan"</span>,
      ...
    },
    { 
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Receive Greeting and Send response"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"HumanTask"</span>,
      <span class="hljs-string">"transition"</span>: <span class="hljs-string">"Start"</span>,
      ... 
    },     
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Read response"</span>,
      <span class="hljs-string">"currentState"</span>: <span class="hljs-string">"Available"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"HumanTask"</span>,
    } 
  }  
}
</code></pre>
<blockquote>
<p>You can follow the API-calls using your browser inspector</p>
</blockquote>
<p>Note that the engine returns a JSON in which all plan items and case file items are comprised. This case file, identified by a key, has a definition ‘HelloWorld” and is last modified by Hank. The case file compromises all the plan items of the case. The first plan item in the list is the Case itself, described with name “HelloWorld’ and type “CasePlan”. The two Human Tasks in the model are also loaded into the JSON of this Case Instance. The data on currentState, historyState, and transition reflect the lifecycle of each Plan Item. Publishing all modeled Plan Items in the Case Instance implicates that the Case Plan is immutable: the plan of the instance is not aware of later changes in the plan of the model.
Next to the Plan Items, the JSON comprises the team, which is not populated by Hank, a description of the attached casefile, and the file itself, which reflects the Case File Items and its properties.</p>
<h3><a class="anchor" aria-hidden="true" id="my-tasks"></a><a href="#my-tasks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>My Tasks</h3>
<p>Next in the executing of the case, Lana should perform the human task Receive Greeting and Send Respond. Using the API, Lana must first login using post/identity/login. Next, she can retrieve all cases in which she is a team member and tasks that are assigned to her by calling on the API-method get/cases/user using X-AUTH-CAFIENNE that is in the response of the login. Then Lana can select a Task and execute it.</p>
<h3><a class="anchor" aria-hidden="true" id="executing-a-task"></a><a href="#executing-a-task" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Executing a task</h3>
<p>Executing the task results in a call to the API-method POST/tasks/{taskId}/{transition}. The taskId is the ID-value in the JSON structure that refers to the Human Task Receive Greeting and Send Response. The transition is one of the actions that sets the state of the plan item lifecycle, default “complete”.</p>
<p><img src="/docs/assets/postTask.png" alt="Image"></p>
<blockquote>
<p>See your browser inspector for this response</p>
</blockquote>
<p>Now, Lana has sent in a transition in the life cycle of a plan item. Cafienne will evaluate this transition and accordingly set other plan item states to available, disabled, or completed.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/cafienneUIHTM.html">← Human Task Model and Start Case Schema</a><a class="docs-next button" href="/docs/ObtainingCafDemo.html">Obtaining Cafienne Demo →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#helloworld">HelloWorld</a></li><li><a href="#travel-request">Travel Request</a></li><li><a href="#explaining-the-flow-of-the-business-apps">Explaining the flow of the business apps</a><ul class="toc-headings"><li><a href="#log-in">Log in</a></li><li><a href="#start-a-case">Start a case</a></li><li><a href="#mycases">MyCases</a></li><li><a href="#my-tasks">My Tasks</a></li><li><a href="#executing-a-task">Executing a task</a></li></ul></li></ul></nav></div></div></body></html>